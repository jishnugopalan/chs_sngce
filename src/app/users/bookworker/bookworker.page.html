<ion-header>
  <ion-toolbar color="primary">
  <ion-buttons slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title>Book Worker</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-card *ngFor="let w of workersdetails"  class="ion-margin-start">
    <ion-item>
      <ion-avatar slot="start">
        <img src="{{w.profile_pic}}">
      </ion-avatar>
      <ion-label><b>{{w.name}}</b></ion-label>
      <ion-label>({{w.workersdetails[0].available_status}})</ion-label>
    </ion-item>
    
   
    <ion-item>
      <b>Category:</b>{{w.workersdetails[0].job_category}}

    </ion-item>
    <ion-item>
      <b>Job type:</b>{{w.workersdetails[0].jobtype}}
    </ion-item>
   
    <ion-item>
      <b>Working time:</b>{{w.workersdetails[0].job_start_time | date:'shortTime' }} to {{w.workersdetails[0].job_end_time | date:'shortTime'}}
    </ion-item>
    <ion-item>
      
      <b>Service Charge:</b>{{w.workersdetails[0].job_salary}}Rs
     
    </ion-item>
    <ion-item>
     <b> Description:</b>{{w.workersdetails[0].job_description}}
    </ion-item>
    <ion-item>
      
    <form [formGroup]="form">
      <ion-item>
        <ion-label>Select a date</ion-label>
        <ion-datetime formControlName="booking_date"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Remarks</ion-label>
        <ion-textarea formControlName="remarks"></ion-textarea>
      </ion-item>
      <ion-button [disabled]="!form.valid" (click)="bookworker(this.w.workersdetails[0].userid)">
        book
      </ion-button>
    </form>

      
     
    </ion-item>
    
    <!-- <ion-text *ngIf=note color="danger">You cannot book this person</ion-text> -->
  </ion-card>
  
  <ion-text><b>Location</b></ion-text>
 <div #mapElement class="map" id="map"></div>
 <ion-text><h3>Reviews</h3></ion-text>
  <ion-card *ngFor="let r of review">
   
    <ion-item>
      <ion-avatar slot="start">
        <img src="{{r.userdetails[0].profile_pic}}">
      </ion-avatar>
      <ion-label><b>{{r.userdetails[0].name}}</b></ion-label>
    </ion-item>
    <ion-item>
      {{r.star}}<ion-icon name="star" color="warning"></ion-icon>
      
    </ion-item>
    <ion-item>
      <ion-text>{{r.commend}}</ion-text>
    </ion-item>

  </ion-card>
</ion-content>
